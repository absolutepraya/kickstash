{% load static %}

<nav
	class="shadow-lg fixed top-4 left-1/2 z-40 w-[60rem] -translate-x-1/2 rounded-2xl border-2 backdrop-blur-lg bg-opacity-40 bg-[#262626] border-[#262626] text-[#cccccc] shadow-lg"
>
	<div class="max-w-7xl px-4">
		<div class="flex items-center justify-between h-16">
			<div class="flex flex-row w-1/3 space-x-2">
				<a href="https://abhipraya.dev" target="_blank">
					<img
						src="{% static 'image/pfp.svg' %}"
						alt="KickStash Logo"
						class="w-10 h-10 rounded-lg"
					/>
				</a>
				<div class="flex flex-col space-y-0 text-sm">
					<p class="font-bold">Daffa Abhipraya Putra</p>
					<p>2306245131 - PBP D</p>
				</div>
			</div>
			<div class="flex items-center w-1/3 justify-center relative">
				<h1 class="text-3xl font-extrabold text-center relative text-white">
					<img
						src="{% static 'image/crown.png' %}"
						alt="KickStash Crown"
						class="absolute w-4 h-4 -top-0.5 -left-1.5 rotate-[-30deg]"
					/>
					KickStash!
				</h1>
			</div>
			<div
				class="hidden md:flex items-center w-1/3 justify-end space-x-3 overflow-hidden"
			>
				{% if user.is_authenticated %}
				<div class="flex flex-col space-y-0 text-sm text-nowrap">
					<!-- Username -->
					<div
						class="flex flex-row space-x-1 items-center justify-end"
					>
						<p>Logged in as <b>{{ user.username }}</b></p>
						<img
							src="{% static 'image/person.svg' %}"
							alt="Person icon"
							class="w-4 h-4"
						/>
					</div>
					<!-- Last login -->
					<div
						class="flex flex-row space-x-1 items-center justify-end"
					>
						<p>{{ user.last_login }}</p>
					</div>
				</div>
				<a
					href="{% url 'main:logout' %}"
					class="text-center bg-red-800 hover:bg-opacity-100 hover:text-white bg-opacity-20 text-red-600 font-bold py-2 px-4 rounded-lg transition duration-300 border border-red-700 shadow-md"
				>
					Logout
				</a>
				{% else %}
				<a
					href="{% url 'main:login' %}"
					class="text-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 mr-2"
				>
					Login
				</a>
				<a
					href="{% url 'main:register' %}"
					class="text-center bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition duration-300"
				>
					Register
				</a>
				{% endif %}
			</div>
			<!-- <div class="md:hidden flex items-center">
				<button class="mobile-menu-button">
					<svg
						class="w-6 h-6 text-white"
						fill="none"
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						viewBox="0 0 24 24"
						stroke="currentColor"
					>
						<path d="M4 6h16M4 12h16M4 18h16"></path>
					</svg>
				</button>
			</div> -->
		</div>
	</div>
	<!-- Mobile menu -->
	<div class="mobile-menu hidden md:hidden px-4 w-full md:max-w-full">
		<div class="pt-2 pb-3 space-y-1 mx-auto">
			{% if user.is_authenticated %}
			<span class="block text-gray-300 px-3 py-2">
				Welcome, {{ user.username }}
			</span>
			<a
				href="{% url 'main:logout' %}"
				class="block text-center bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition duration-300"
			>
				Logout
			</a>
			{% else %}
			<a
				href="{% url 'main:login' %}"
				class="block text-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 mb-2"
			>
				Login
			</a>
			<a
				href="{% url 'main:register' %}"
				class="block text-center bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition duration-300"
			>
				Register
			</a>
			{% endif %}
		</div>
	</div>
	<script>
		const btn = document.querySelector('button.mobile-menu-button');
		const menu = document.querySelector('.mobile-menu');

		btn.addEventListener('click', () => {
			menu.classList.toggle('hidden');
		});
	</script>
</nav>
